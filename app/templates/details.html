<!DOCTYPE html>
<html>
  <head>
    <title>Scholarship Details</title>
  </head>
  <body>
    <div class="container">
      <h1>Scholarship Details</h1>
      {% if scholarship_details %}
      <h2>BPP ID: {{ scholarship_details['bppId'] }}</h2>
      <h2>BPP URI: {{ scholarship_details['bppUri'] }}</h2>
      <h2>Provider ID: {{ scholarship_details['provider']['id'] }}</h2>
      <h3>Fulfillments:</h3>
      <ul>
        {% for fulfillment in scholarship_details['fulfillments'] %}
        <li>ID: {{ fulfillment['id'] }}</li>
        {% endfor %}
      </ul>
      <h3>Items:</h3>
      <ul>
        {% for item in scholarship_details['items'] %}
        <li>ID: {{ item['id'] }}</li>
        {% endfor %}
      </ul>
      <button id="selectButton">select</button>
      {% else %}
      <p>No details available.</p>
      {% endif %}
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $(document).ready(function () {
        $("#selectButton").click(function () {
          var scholarshipDetails = {{ scholarship_details|tojson|safe }};

          $.ajax({
            url: '/select',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify(scholarshipDetails),
            success: function (response) {
              console.log("Server response:", response);
            },
            error: function (error) {
              console.error("Error:", error);
            }
          });
        });
      });
    </script>
  </body>
</html>
